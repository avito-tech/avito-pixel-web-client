# @avito/pixel-web-client üìä

```@avito/pixel-web-client``` - —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç –¥–ª—è [AvitoPixel](https://github.com/avito-tech/avito-pixel), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –≤–µ–±-—Å–∞–π—Ç–µ. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π.

# –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```shell
npm i @avito/pixel-web-client
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### –ü—Ä–∏–º–µ—Ä 
–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å–∞–π—Ç–∞. –ï—Å–ª–∏ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é, –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ —Å—á–µ—Ç—á–∏–∫–∞ –≤ HTML-–∫–æ–¥ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å–∞–π—Ç–∞.
```html
<script src="https://www.avito.st/s/pixel/script.js" data-host="<url host>" data-paths-hit="<url method hit>" data-platform="<you platform>"></script>
```
- –ê—Ç—Ä–∏–±—É—Ç data-host —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ URL [—Å–µ—Ä–≤–µ—Ä–∞ AvitoPixel](https://github.com/avito-tech/avito-pixel) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ);
- –ê—Ç—Ä–∏–±—É—Ç data-paths-hit —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—É—Ç—å –∫ –º–µ—Ç–æ–¥—É hit;
- –ê—Ç—Ä–∏–±—É—Ç data-platform —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω "web").

### –ü—Ä–∏–º–µ—Ä —Å React

–í –≥–ª–∞–≤–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ App.tsx, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–∞–∫–µ—Ç @avito/pixel-web-client:
```react
import { AvitoPixel } from '@avito/pixel-web-client';
```

–°–æ–∑–¥–∞–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ AvitoPixel –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```react
const pixel = new AvitoPixel({ host: "<host URL>", platform: "<you platform>", paths: <method paths> });
```
- –ü–∞—Ä–∞–º–µ—Ç—Ä host —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ URL —Å–µ—Ä–≤–µ—Ä–∞ AvitoPixel.
- –ü–∞—Ä–∞–º–µ—Ç—Ä platform –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω "web").
- –ü–∞—Ä–∞–º–µ—Ç—Ä paths –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –∫ –º–µ—Ç–æ–¥–∞–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π. –°–µ–π—á–∞—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ hit.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–ª–µ–¥—É–µ—Ç —à–∞–±–ª–æ–Ω—É Singleton, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä AvitoPixel.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ AvitoPixel –Ω–∞ —ç—Ç–∞–ø–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ "load" –Ω–∞ —Å–µ—Ä–≤–µ—Ä AvitoPixel.
```react
React.useEffect(() => {
        instance.init();
    }, [])
```

## –ü—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—á–µ—Ç—á–∏–∫–∞ –¥–ª—è SPA-—Å–∞–π—Ç–æ–≤
### React

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –ø–æ–¥—Ö–æ–¥, —á—Ç–æ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –∏ –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é hit, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

```react
instance.hit.request({type: 'location_changed'});
```

## License
MIT
